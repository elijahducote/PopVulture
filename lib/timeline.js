(()=>{window.timeline=function(p,h){let w=[],c="Timeline:",I=window.innerWidth,T,d=0,m={forceVerticalMode:{type:"integer",defaultValue:600},horizontalStartPosition:{type:"string",acceptedValues:["bottom","top"],defaultValue:"top"},mode:{type:"string",acceptedValues:["horizontal","vertical"],defaultValue:"vertical"},moveItems:{type:"integer",defaultValue:1},rtlMode:{type:"boolean",acceptedValues:[!0,!1],defaultValue:!1},startIndex:{type:"integer",defaultValue:0},verticalStartPosition:{type:"string",acceptedValues:["left","right"],defaultValue:"left"},verticalTrigger:{type:"string",defaultValue:"15%"},visibleItems:{type:"integer",defaultValue:3}};function V(e,n){return typeof e!="number"&&e%1!==0?(console.warn(`${c} The value "${e}" entered for the setting "${n}" is not an integer.`),!1):!0}function x(e,n,t){n.classList.add(t),e.parentNode.insertBefore(n,e),n.appendChild(e)}function y(e){e.forEach(n=>{x(n.querySelector(".timeline__content"),document.createElement("div"),"timeline__content__wrap"),x(n.querySelector(".timeline__content__wrap"),document.createElement("div"),"timeline__item__inner")})}function E(e,n){let t=e.getBoundingClientRect(),s=window.innerHeight||document.documentElement.clientHeight,r=m.verticalTrigger.defaultValue.match(/(\d*\.?\d*)(.*)/),o=n.unit,l=n.value,i=s;return o==="px"&&l>=s&&(console.warn('The value entered for the setting "verticalTrigger" is larger than the window height. The default value will be used instead.'),[,l,o]=r),o==="px"?i=parseInt(i-l,10):o==="%"&&(i=parseInt(i*((100-l)/100),10)),t.top<=i&&t.left<=(window.innerWidth||document.documentElement.clientWidth)&&t.top+t.height>=0&&t.left+t.width>=0}function b(e,n){e.style.webkitTransform=n,e.style.msTransform=n,e.style.transform=n}function L(e){let n=e.id?`#${e.id}`:`.${e.className}`,t="could not be found as a direct descendant of",s=e.dataset,r,o,l,i={};try{if(r=e.querySelector(".timeline__wrap"),r)if(o=r.querySelector(".timeline__items"),o)l=[].slice.call(o.children,0);else throw new Error(`${c} .timeline__items ${t} .timeline__wrap`);else throw new Error(`${c} .timeline__wrap ${t} ${n}`)}catch(a){return console.warn(a.message),!1}Object.keys(m).forEach(a=>{i[a]=m[a].defaultValue,s[a]?i[a]=s[a]:h&&h[a]&&(i[a]=h[a]),m[a].type==="integer"?(!i[a]||!V(i[a],a))&&(i[a]=m[a].defaultValue):m[a].type==="string"&&m[a].acceptedValues&&m[a].acceptedValues.indexOf(i[a])===-1&&(console.warn(`${c} The value "${i[a]}" entered for the setting "${a}" was not recognised.`),i[a]=m[a].defaultValue)});let f=m.verticalTrigger.defaultValue.match(/(\d*\.?\d*)(.*)/),q=i.verticalTrigger.match(/(\d*\.?\d*)(.*)/),[,u,g]=q,v=!0;u||(console.warn(`${c} No numercial value entered for the 'verticalTrigger' setting.`),v=!1),g!=="px"&&g!=="%"&&(console.warn(`${c} The setting 'verticalTrigger' must be a percentage or pixel value.`),v=!1),g==="%"&&(u>100||u<0)?(console.warn(`${c} The 'verticalTrigger' setting value must be between 0 and 100 if using a percentage value.`),v=!1):g==="px"&&u<0&&(console.warn(`${c} The 'verticalTrigger' setting value must be above 0 if using a pixel value.`),v=!1),v===!1&&([,u,g]=f),i.verticalTrigger={unit:g,value:u},i.moveItems>i.visibleItems&&(console.warn(`${c} The value of "moveItems" (${i.moveItems}) is larger than the number of "visibleItems" (${i.visibleItems}). The value of "visibleItems" has been used instead.`),i.moveItems=i.visibleItems),i.startIndex>l.length-i.visibleItems&&l.length>i.visibleItems?(console.warn(`${c} The 'startIndex' setting must be between 0 and ${l.length-i.visibleItems} for this timeline. The value of ${l.length-i.visibleItems} has been used instead.`),i.startIndex=l.length-i.visibleItems):l.length<=i.visibleItems?(console.warn(`${c} The number of items in the timeline must exceed the number of visible items to use the 'startIndex' option.`),i.startIndex=0):i.startIndex<0&&(console.warn(`${c} The 'startIndex' setting must be between 0 and ${l.length-i.visibleItems} for this timeline. The value of 0 has been used instead.`),i.startIndex=0),w.push({timelineEl:e,wrap:r,scroller:o,items:l,settings:i})}p.length&&[].forEach.call(p,L);function W(e){function n(){e.itemWidth=e.wrap.offsetWidth/e.settings.visibleItems,e.items.forEach(s=>{s.style.width=`${e.itemWidth}px`}),e.scrollerWidth=e.itemWidth*e.items.length,e.scroller.style.width=`${e.scrollerWidth}px`}function t(){let s=0,r=0;e.items.forEach((l,i)=>{l.style.height="auto";let f=l.offsetHeight;i%2===0?r=f>r?f:r:s=f>s?f:s});let o=`translateY(${r}px)`;e.items.forEach((l,i)=>{i%2===0?(l.style.height=`${r}px`,e.settings.horizontalStartPosition==="bottom"?(l.classList.add("timeline__item--bottom"),b(l,o)):l.classList.add("timeline__item--top")):(l.style.height=`${s}px`,e.settings.horizontalStartPosition!=="bottom"?(l.classList.add("timeline__item--bottom"),b(l,o)):l.classList.add("timeline__item--top"))}),e.scroller.style.height=`${r+s}px`}window.innerWidth>e.settings.forceVerticalMode&&(n(),t())}function S(e){if(e.items.length>e.settings.visibleItems){let n=document.createElement("button"),t=document.createElement("button"),s=e.items[0].offsetHeight;n.className="timeline-nav-button timeline-nav-button--prev",t.className="timeline-nav-button timeline-nav-button--next",n.textContent="Previous",t.textContent="Next",n.style.top=`${s}px`,t.style.top=`${s}px`,d===0?n.disabled=!0:d===e.items.length-e.settings.visibleItems&&(t.disabled=!0),e.timelineEl.appendChild(n),e.timelineEl.appendChild(t)}}function C(e){let n=e.timelineEl.querySelector(".timeline-divider");n&&e.timelineEl.removeChild(n);let t=e.items[0].offsetHeight,s=document.createElement("span");s.className="timeline-divider",s.style.top=`${t}px`,e.timelineEl.appendChild(s)}function _(e){let t=`translate3d(-${e.items[d].offsetLeft}px, 0, 0)`;b(e.scroller,t)}function N(e){let n=e.timelineEl.querySelectorAll(".timeline-nav-button"),t=e.timelineEl.querySelector(".timeline-nav-button--prev"),s=e.timelineEl.querySelector(".timeline-nav-button--next"),r=e.items.length-e.settings.visibleItems,o=parseInt(e.settings.moveItems,10);[].forEach.call(n,l=>{l.addEventListener("click",function(i){i.preventDefault(),d=this.classList.contains("timeline-nav-button--next")?d+=o:d-=o,d===0||d<0?(d=0,t.disabled=!0,s.disabled=!1):d===r||d>r?(d=r,t.disabled=!1,s.disabled=!0):(t.disabled=!1,s.disabled=!1),_(e)})})}function z(e){e.settings.rtlMode?d=e.items.length>e.settings.visibleItems?e.items.length-e.settings.visibleItems:0:d=e.settings.startIndex,e.timelineEl.classList.add("timeline--horizontal"),W(e),_(e),S(e),C(e),N(e)}function H(e){let n=0;e.items.forEach((t,s)=>{t.classList.remove("animated","fadeIn"),!E(t,e.settings.verticalTrigger)&&s>0?t.classList.add("animated"):n=s;let r=e.settings.verticalStartPosition==="left"?1:0;s%2===r&&window.innerWidth>e.settings.forceVerticalMode?t.classList.add("timeline__item--right"):t.classList.add("timeline__item--left")});for(let t=0;t<n;t+=1)e.items[t].classList.remove("animated","fadeIn");window.addEventListener("scroll",()=>{e.items.forEach(t=>{E(t,e.settings.verticalTrigger)&&t.classList.add("fadeIn")})})}function P(e){e.timelineEl.classList.remove("timeline--horizontal","timeline--mobile"),e.scroller.removeAttribute("style"),e.items.forEach(t=>{t.removeAttribute("style"),t.classList.remove("animated","fadeIn","timeline__item--left","timeline__item--right")});let n=e.timelineEl.querySelectorAll(".timeline-nav-button");[].forEach.call(n,t=>{t.parentNode.removeChild(t)})}function $(){w.forEach(e=>{e.timelineEl.style.opacity=0,e.timelineEl.classList.contains("timeline--loaded")||y(e.items),P(e),window.innerWidth<=e.settings.forceVerticalMode&&e.timelineEl.classList.add("timeline--mobile"),e.settings.mode==="horizontal"&&window.innerWidth>e.settings.forceVerticalMode?z(e):H(e),e.timelineEl.classList.add("timeline--loaded"),setTimeout(()=>{e.timelineEl.style.opacity=1},500)})}$(),window.addEventListener("resize",()=>{clearTimeout(T),T=setTimeout(()=>{let e=window.innerWidth;e!==I&&($(),I=e);var n=document.getElementsByClassName("timeline-nav-button")[1],t=document.getElementsByClassName("timeline-nav-button")[0];n.addEventListener("click",addCount),t.addEventListener("click",removeCount)},250)})};window.jQuery&&(p=>{p.fn.timeline=function(h){return timeline(this,h),this}})(window.jQuery);kairos();})();
